<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ExGeo</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>

  <!-- Barra superior -->
  <header class="top-bar">
    <button class="menu-button" onclick="toggleMenu()">
      <img src="./icons/menu.png" alt="MenÃº" />
    </button>
  </header>

  <!-- MenÃº lateral -->
<nav id="menuLateral" class="menu-lateral">
  <ul>
  <li>
    <button onclick="mostrarTutorial()" class="icon-button">
      <img src="./icons/informaciÃ³n.png" alt="InformaciÃ³n" /> CÃ³mo usar ExGeo
    </button>
  </li>
  <li>
    <button onclick="descargarGPX()" class="icon-button">
      <img src="./icons/exportar.png" alt="Exportar GPX" /> GPX
    </button>
  </li>
  <li>
    <button onclick="mostrarHistorial()" class="icon-button">
      <img src="./icons/historial.png" alt="Historial" /> Historial
    </button>
  </li>
  
</ul>
<div id="panelHistorial" class="panel-historial" style="display: none;">
  <div class="historial-cabecera">
    <strong>Historial</strong>
    <button class="cerrar-historial" onclick="cerrarHistorial()">âœ–</button>
  </div>
  <ul id="listaHistorial" class="lista-historial"></ul>
  <button onclick="borrarHistorial()" class="icon-button borrar-historial">
  ğŸ—‘ï¸ Borrar historial
</button>
</div>
</nav>

  <!-- Contenido principal -->
  <main class="container">
    <img src="./icon-512.png" alt="Logo" class="logo" />
    <h2 class="subtitle">Convierte coordenadas o enlaces de Google Maps para OruxMaps</h2>

   <input type="text" id="mapsUrl" placeholder="Ej: https://maps.google.com/?q=37.7749,-122.4194" />

<div class="botones-principales">
  <button onclick="convertir()">Abrir en OruxMaps GP</button>
  <button onclick="validarEntrada()" class="icon-button">
    <img src="./icons/historial.png" alt="Guardar coordenadas" /> Validar y guardar
  </button>
</div>

  <div id="tutorialExGeo" class="aviso" style="display: none;">
  <div class="aviso-cabecera">
    <strong>CÃ³mo usar ExGeo</strong>
    <button class="cerrar-aviso" onclick="cerrarAviso(this)">âœ–</button>
  </div>
  <p>ğŸ“ <strong>ExGeo</strong> te permite convertir coordenadas o enlaces de Google Maps en archivos GPX compatibles con OruxMaps.</p>

  <h4>ğŸ§­ Â¿CÃ³mo obtener coordenadas?</h4>
  <ol>
    <li>Abre Google Maps y mantÃ©n pulsado sobre el punto deseado.</li>
    <li>VerÃ¡s un pin rojo con las coordenadas arriba.</li>
    <li>Toca las coordenadas para copiarlas.</li>
    <li>PÃ©galas en el campo de bÃºsqueda de ExGeo.</li>
  </ol>

  <h4>ğŸ”„ Â¿QuÃ© formatos acepta?</h4>
  <ul>
    <li>Coordenadas simples: <code>37.7749, -122.4194</code></li>
    <li>Enlaces de Google Maps: <code>https://maps.google.com/?q=37.7749,-122.4194</code></li>
    <li>geo: URIs: <code>geo:37.7749,-122.4194</code></li>
  </ul>

  <h4>ğŸ“¤ Â¿CÃ³mo exportar?</h4>
  <ol>
    <li>Pega las coordenadas o enlace y pulsa <strong>â€œAbrir en OruxMaps GPâ€</strong>.</li>
    <li>VerÃ¡s un aviso con las coordenadas detectadas.</li>
    <li>Pulsa <strong>â€œValidar y guardarâ€</strong> para aÃ±adirlas al historial.</li>
    <li>Luego puedes exportarlas como archivo <strong>GPX</strong>.</li>
  </ol>

  <h4>ğŸ“š Historial de ubicaciones</h4>
  <ul>
    <li>Accede desde el menÃº lateral con el botÃ³n <strong>â€œHistorialâ€</strong> ğŸ•˜</li>
    <li>VerÃ¡s una lista de ubicaciones guardadas con nombre y coordenadas.</li>
    <li>Puedes volver a <strong>descargar el GPX</strong> o <strong>abrir en OruxMaps</strong>.</li>
    <li>TambiÃ©n puedes <strong>borrar el historial</strong> desde ese panel.</li>
    <li>El historial se guarda automÃ¡ticamente en tu navegador.</li>
  </ul>

 <p>âœ¨ ExGeo funciona directamente desde tu navegador, sin necesidad de instalaciÃ³n.</p>
</div>

    <div class="footer">Â©troNpilot 2025</div>
  </main>

  <script src="./app.js"></script>
</body>
</html>